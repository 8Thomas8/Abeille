<script type="text/javascript">
    // Thanks to http://www.petercollingridge.co.uk/tutorials/svg/interactive/dragging/
    
    var myVoisinesOrg;
    
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            myVoisinesOrg = JSON.parse(this.responseText);
        }
    };
    // xmlhttp.open("GET", "/plugins/Abeille/Network/AbeilleLQI_MapData.json", true);
    xmlhttp.open("GET", "/plugins/Abeille/Network/AbeilleLQI_MapData.json", false);
    xmlhttp.send();

var myJSON = '{ "0000": { "name": "Door", "x": 200, "y": 200 }, \
"13c0": { "name": "Window", "x": 800, "y": 800 }, \
"4cb0": { "name": "Window", "x": 400, "y": 400 }, \
"48a1": { "name": "Window", "x": 425, "y": 400 }, \
"9516": { "name": "Window", "x": 450, "y": 400 }, \
"144d": { "name": "Window", "x": 500, "y": 400 } \
}';

var myObjOrg = JSON.parse( myJSON );

//                     "c276": { "name": "Window", "x": 475, "y": 400 }, \

function myJSON_AddMissing() {
    for (voisines in myVoisinesOrg.data) {
        
        // document.write( JSON.stringify(myVoisinesOrg.data) );
        
        // document.write( "</br>zaza</br>" );
        
        // document.write( voisines );  // indice: 0, 1, 2, 3, ...
        
         document.write( "</br>----------------------------------</br>" );
        document.write( myVoisinesOrg.data[voisines].NE + " " + myVoisinesOrg.data[voisines].Voisine + "</br>");
        document.write( JSON.stringify(myObjOrg[myVoisinesOrg.data[voisines].NE]) + " " + JSON.stringify(myObjOrg[myVoisinesOrg.data[voisines].Voisine]) );
        
        // document.write( "</br>zizi</br>" );
        // document.write( JSON.stringify(myObjOrg[myVoisinesOrg.data[voisines].NE]) );
        // document.write( "</br>zeze</br>" );
        // document.write( myObjOrg[myVoisinesOrg.data[voisines].NE].x );
        
        if ( typeof myObjOrg[myVoisinesOrg.data[voisines].NE] === "undefined" ) {
            // "c276": { "name": "Window", "x": 475, "y": 400 },
            document.write( "</br>Beurk</br>" );
            myObjOrg[myVoisinesOrg.data[voisines].NE] = { "name": "Window", "x": 333, "y": 333 };
        }
        else {
            document.write( "</br>Ok1</br>" );
        }
        if ( typeof myObjOrg[myVoisinesOrg.data[voisines].Voisine] === "undefined" ) {
            // "c276": { "name": "Window", "x": 475, "y": 400 },
            document.write( "</br>Beurk</br>" );
            myObjOrg[myVoisinesOrg.data[voisines].Voisine] = { "name": "Window", "x": 333, "y": 333 };
        }
        else {
            document.write( "</br>Ok2</br>" );
        }
    }
}


document.write( '<html>');
document.write( '<head>');
document.write( '</head>');

document.write( '<body>');
document.write( '<p id="demo"></p>');
document.write( JSON.stringify(myObjOrg) );
document.write( '<hr>' );
document.write( JSON.stringify(myVoisinesOrg) );
document.write( "</br>toto</br>" );
myJSON_AddMissing();
document.write( "</br>tata</br>" );
document.write( '<hr>' );

document.write( JSON.stringify(myObjOrg) );

document.write( '</body>' );
document.write( '</html>' );



    </script>
